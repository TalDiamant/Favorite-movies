(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(37)},28:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(16),o=a.n(i),l=(a(28),a(7)),c=a(8),s=a(11),h=a(9),u=a(10),m=a(17),p=a(38),d=a(39),v=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"add"},r.a.createElement("h1",null,"Favorite Movies"),r.a.createElement(p.a,{onChange:this.handleChange.bind(this),placeholder:"Enter movie-name",name:"moviename"}),r.a.createElement(p.a,{onChange:this.handleChange.bind(this),placeholder:"Enter year",name:"year"}),r.a.createElement(p.a,{onChange:this.handleChange.bind(this),placeholder:"Enter image",name:"image"}),r.a.createElement("br",null),r.a.createElement("h3",null,"Choose catagory:"),this.props.allcatagories.map(function(t){return r.a.createElement("div",{className:"radios",key:t.ID},r.a.createElement("input",{onChange:e.handleChange.bind(e),type:"radio",name:"catagoryID",value:t.ID}),r.a.createElement("span",null,t.name))}),r.a.createElement("br",null),r.a.createElement(d.a,{color:"info",onClick:this.sendData.bind(this)},"Add your movie!")))}},{key:"handleChange",value:function(e){this.setState(Object(m.a)({},e.target.name,e.target.value))}},{key:"sendData",value:function(){var e=this;fetch("http://localhost:3000/api/addmovie",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(this.state)}).then(function(e){return e.json()}).then(function(t){alert("Your movie was added to the list"),e.props.refresh()})}}]),t}(n.Component),f=a(14),b=a.n(f),g=a(19),E=a(40),y=a(41),j=a(42),O=a(43),C=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Movie"},r.a.createElement("div",null,r.a.createElement(E.a,null,r.a.createElement(d.a,{className:"buttonRemove",onClick:this.deleteMovie.bind(this)},"X"),r.a.createElement(y.a,{top:!0,width:"100%",src:this.props.currentMovie.image,alt:"Card image cap"}),r.a.createElement(j.a,null,r.a.createElement(O.a,null,"Name: ",this.props.currentMovie.moviename),r.a.createElement(O.a,null,"Year: ",this.props.currentMovie.year),r.a.createElement(O.a,null,"catagory: ",this.props.currentMovie.catagoryname)))))}},{key:"deleteMovie",value:function(){var e=Object(g.a)(b.a.mark(function e(){var t,a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/deletemovie?ID="+this.props.currentMovie.ID);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),this.props.refresh();case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),k=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"list"},r.a.createElement("h1",null,"Movie-list:"),this.props.allmovies.map(function(t){return r.a.createElement(C,{refresh:e.props.refresh,key:t.ID,currentMovie:t})}))}}]),t}(n.Component),w=a(20),M=a(21);w.a.add(M.a);var D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={allMovies:[],allCatagories:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.refreshData(),fetch("http://localhost:3000/api/getallcatagories").then(function(e){return e.json()}).then(function(t){e.setState({allCatagories:t})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v,{refresh:this.refreshData.bind(this),allcatagories:this.state.allCatagories}),r.a.createElement(k,{refresh:this.refreshData.bind(this),allmovies:this.state.allMovies}))}},{key:"refreshData",value:function(){var e=this;fetch("http://localhost:3000/api/getallmovies").then(function(e){return e.json()}).then(function(t){e.setState({allMovies:t})})}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(36);o.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.ffbfc95c.chunk.js.map